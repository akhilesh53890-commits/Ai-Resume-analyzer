<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS AI | ATS Resume Architect</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Rajdhani:wght@300;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #050505;
            --bg-panel: rgba(20, 20, 30, 0.7);
            --cyan: #00f2ff;
            --pink: #ff0055;
            --purple: #7000ff;
            --text-white: #ffffff;
            --text-muted: #8892b0;
            --border: 1px solid rgba(0, 242, 255, 0.15);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        body {
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(circle at 50% -20%, #1a1a40 0%, transparent 60%),
                linear-gradient(180deg, transparent 0%, rgba(0, 242, 255, 0.03) 100%);
            color: var(--text-white);
            font-family: 'Rajdhani', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3 { font-family: 'Orbitron', sans-serif; letter-spacing: 2px; text-transform: uppercase; }
        .gradient-text {
            background: linear-gradient(90deg, var(--cyan), var(--pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* --- HEADER --- */
        header { text-align: center; margin: 50px 0 40px; animation: slideDown 0.8s ease; }
        header p { color: var(--text-muted); margin-top: 10px; font-size: 1.1rem; }

        /* --- UPLOAD SECTION --- */
        .container { width: 90%; max-width: 1100px; position: relative; z-index: 2; padding-bottom: 50px; }
        
        .upload-box {
            background: var(--bg-panel);
            backdrop-filter: blur(12px);
            border: 2px dashed rgba(0, 242, 255, 0.3);
            border-radius: 20px;
            height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
            max-width: 700px;
            margin: 0 auto;
            animation: fadeIn 1s ease 0.2s backwards;
        }

        .upload-box:hover { border-color: var(--pink); box-shadow: 0 0 30px rgba(255, 0, 85, 0.15); }
        .upload-box svg { width: 60px; height: 60px; color: var(--cyan); margin-bottom: 20px; transition: 0.3s; }
        .upload-box:hover svg { transform: scale(1.1); color: var(--pink); }

        /* Scanning Line Animation */
        .scan-line {
            position: absolute; width: 100%; height: 2px; background: var(--cyan);
            box-shadow: 0 0 15px var(--cyan); top: 0; left: 0; display: none;
        }
        .scanning .scan-line { display: block; animation: scan 2s infinite linear; }

        /* --- DASHBOARD (RESULTS) --- */
        #dashboard { display: none; gap: 20px; grid-template-columns: 1fr 1fr; margin-top: 40px; }
        
        .card {
            background: rgba(10, 12, 16, 0.8);
            border: var(--border);
            border-radius: 15px;
            padding: 25px;
            position: relative;
            backdrop-filter: blur(10px);
        }

        /* --- ATS SCORE GAUGE (SVG) --- */
        .score-container {
            grid-column: span 2; /* Full width */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            padding: 40px;
            background: linear-gradient(135deg, rgba(20,20,30,0.9), rgba(5,5,10,0.9));
            border: 1px solid var(--cyan);
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.1);
        }

        .gauge-wrapper { position: relative; width: 200px; height: 200px; }
        
        .gauge-bg {
            fill: none; stroke: #222; stroke-width: 15;
        }
        .gauge-fill {
            fill: none; stroke: var(--cyan); stroke-width: 15;
            stroke-dasharray: 440; stroke-dashoffset: 440; /* 2 * PI * 70 */
            transition: stroke-dashoffset 1.5s ease-out, stroke 0.5s;
            stroke-linecap: round;
            filter: drop-shadow(0 0 5px var(--cyan));
        }
        .score-text {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        .score-number { font-size: 3.5rem; font-family: 'Orbitron'; font-weight: 700; color: #fff; }
        .score-label { font-size: 0.9rem; color: var(--text-muted); letter-spacing: 1px; }

        /* Score Details */
        .score-details { flex: 1; max-width: 400px; }
        .detail-row { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 1.1rem; }
        .detail-bar-bg { width: 100%; height: 8px; background: #222; border-radius: 4px; overflow: hidden; }
        .detail-bar-fill { height: 100%; background: linear-gradient(90deg, var(--purple), var(--pink)); width: 0; transition: width 1s 0.5s; }

        /* --- LISTS --- */
        .list-card h3 { color: var(--cyan); margin-bottom: 20px; font-size: 1rem; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .item-list li {
            list-style: none; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex; gap: 10px; font-size: 0.95rem; color: #ddd;
        }
        .icon-good { color: var(--cyan); }
        .icon-bad { color: var(--pink); }

        /* --- BUTTONS --- */
        .btn {
            background: linear-gradient(90deg, var(--cyan), var(--purple));
            color: #fff; padding: 12px 30px; border: none; border-radius: 5px;
            font-family: 'Orbitron'; font-weight: bold; cursor: pointer;
            margin-top: 20px; transition: 0.3s;
            text-transform: uppercase;
            box-shadow: 0 0 20px rgba(112, 0, 255, 0.4);
            display: none;
        }
        .btn:hover { transform: scale(1.05); box-shadow: 0 0 40px rgba(0, 242, 255, 0.6); }

        /* --- LOADER --- */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 100;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        .spinner {
            width: 70px; height: 70px; border: 3px solid rgba(255,255,255,0.1);
            border-top: 3px solid var(--cyan); border-radius: 50%;
            animation: spin 1s infinite linear; margin-bottom: 20px;
        }
        .log-text { font-family: monospace; color: var(--cyan); }

        /* --- ANIMATIONS --- */
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* RESPONSIVE */
        @media(max-width: 768px) {
            #dashboard { grid-template-columns: 1fr; }
            .score-container { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>

    <header>
        <h1>NEXUS <span class="gradient-text">ATS ANALYZER</span></h1>
        <p>AI-Powered Resume Scoring & Optimization Engine</p>
    </header>

    <div class="container">
        
        <div class="upload-box" id="dropZone">
            <div class="scan-line"></div>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
            <h3 style="margin-bottom: 5px;">Upload Resume</h3>
            <p style="color:var(--text-muted); font-size:0.9rem;">Supports PDF, DOCX, TXT</p>
            <input type="file" id="fileInput" accept=".pdf,.docx,.txt" style="display:none;">
        </div>

        <button id="analyzeBtn" class="btn" style="margin: 30px auto; display:none;">START ANALYSIS</button>

        <div id="dashboard">
            
            <div class="card score-container">
                <div class="gauge-wrapper">
                    <svg width="200" height="200">
                        <circle cx="100" cy="100" r="70" class="gauge-bg" />
                        <circle cx="100" cy="100" r="70" class="gauge-fill" id="gaugePath" transform="rotate(-90 100 100)" />
                    </svg>
                    <div class="score-text">
                        <div class="score-number" id="scoreNum">0</div>
                        <div class="score-label">ATS SCORE</div>
                    </div>
                </div>

                <div class="score-details">
                    <h3>PERFORMANCE METRICS</h3>
                    
                    <div style="margin-bottom:15px;">
                        <div class="detail-row"><span>Keyword Relevance</span><span id="keyScore">0%</span></div>
                        <div class="detail-bar-bg"><div class="detail-bar-fill" id="bar1"></div></div>
                    </div>

                    <div style="margin-bottom:15px;">
                        <div class="detail-row"><span>Formatting & Structure</span><span id="fmtScore">0%</span></div>
                        <div class="detail-bar-bg"><div class="detail-bar-fill" id="bar2"></div></div>
                    </div>

                    <div>
                        <div class="detail-row"><span>Action Verbs & Impact</span><span id="impScore">0%</span></div>
                        <div class="detail-bar-bg"><div class="detail-bar-fill" id="bar3"></div></div>
                    </div>
                </div>
            </div>

            <div class="card list-card">
                <h3>TOP CORPORATE MATCHES</h3>
                <ul class="item-list" id="companyList">
                    </ul>
            </div>

            <div class="card list-card">
                <h3>CRITICAL FIXES REQUIRED</h3>
                <ul class="item-list" id="fixList">
                    </ul>
            </div>

            <button class="btn" onclick="location.reload()" style="display:block; grid-column:span 2; margin: 0 auto;">SCAN ANOTHER FILE</button>
        </div>

    </div>

    <div id="loader">
        <div class="spinner"></div>
        <div class="log-text" id="logText">INITIALIZING SYSTEM...</div>
    </div>

    <script>
        // --- ELEMENTS ---
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const dashboard = document.getElementById('dashboard');
        const loader = document.getElementById('loader');
        const logText = document.getElementById('logText');
        const gaugePath = document.getElementById('gaugePath');
        const scoreNum = document.getElementById('scoreNum');

        let selectedFile = null;

        // --- DRAG & DROP LOGIC ---
        dropZone.addEventListener('click', () => fileInput.click());
        
        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));
        
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = "var(--pink)";
        });

        dropZone.addEventListener('dragleave', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = "rgba(0, 242, 255, 0.3)";
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = "rgba(0, 242, 255, 0.3)";
            if(e.dataTransfer.files.length) handleFile(e.dataTransfer.files[0]);
        });

        function handleFile(file) {
            if(!file) return;
            selectedFile = file;
            dropZone.classList.add('scanning');
            dropZone.querySelector('h3').innerText = `FILE: ${file.name}`;
            analyzeBtn.style.display = 'block';
        }

        // --- ANALYSIS LOGIC ---
        analyzeBtn.addEventListener('click', () => {
            loader.style.display = 'flex';
            
            // Simulation Sequence
            const logs = [
                "Parsing Document Structure...",
                "Identifying Keywords...",
                "Analyzing Grammar & Tone...",
                "Comparing against 500 Job Descriptions...",
                "Calculating ATS Score..."
            ];

            let i = 0;
            const interval = setInterval(() => {
                if(i < logs.length) {
                    logText.innerText = logs[i];
                    i++;
                } else {
                    clearInterval(interval);
                    showResults();
                }
            }, 800);
        });

        function showResults() {
            loader.style.display = 'none';
            dropZone.style.display = 'none';
            analyzeBtn.style.display = 'none';
            dashboard.style.display = 'grid';

            // Generate Random Score Logic (Mock AI)
            const finalScore = Math.floor(Math.random() * (95 - 60) + 60); // Random score 60-95
            
            // 1. Animate Gauge
            const circumference = 2 * Math.PI * 70; // r=70
            const offset = circumference - (finalScore / 100) * circumference;
            
            // Color Logic
            let color = "#ff0055"; // Red
            if(finalScore > 70) color = "#ffaa00"; // Orange/Yellow
            if(finalScore > 85) color = "#00f2ff"; // Cyan/Green
            
            setTimeout(() => {
                gaugePath.style.strokeDashoffset = offset;
                gaugePath.style.stroke = color;
                
                // Animate Number
                let count = 0;
                const numInt = setInterval(() => {
                    scoreNum.innerText = count;
                    if(count >= finalScore) clearInterval(numInt);
                    count++;
                }, 20);
            }, 100);

            // 2. Breakdown Bars
            const kScore = Math.min(finalScore + 5, 98);
            const fScore = Math.min(finalScore - 5, 90);
            const iScore = Math.min(finalScore, 95);

            document.getElementById('keyScore').innerText = kScore + "%";
            document.getElementById('bar1').style.width = kScore + "%";
            
            document.getElementById('fmtScore').innerText = fScore + "%";
            document.getElementById('bar2').style.width = fScore + "%";
            
            document.getElementById('impScore').innerText = iScore + "%";
            document.getElementById('bar3').style.width = iScore + "%";

            // 3. Populate Lists
            const companies = [
                {n: "Google", p: finalScore - 2},
                {n: "Amazon", p: finalScore + 3},
                {n: "Microsoft", p: finalScore - 5},
                {n: "Tesla", p: finalScore - 10}
            ];

            const coList = document.getElementById('companyList');
            companies.forEach(c => {
                coList.innerHTML += `
                    <li>
                        <span class="icon-good">➤</span> 
                        <span style="flex:1">${c.n}</span>
                        <span style="color:var(--cyan)">${c.p}% Match</span>
                    </li>`;
            });

            const fixes = document.getElementById('fixList');
            const issues = [
                "Found 4 instances of passive voice (e.g. 'was responsible for').",
                "Summary section is too generic. Add specific metrics.",
                "Missing 'Cloud Computing' keywords found in target roles.",
                "Date formatting is inconsistent in 'Experience' section."
            ];
            
            issues.forEach(issue => {
                fixes.innerHTML += `<li><span class="icon-bad">⚠</span> ${issue}</li>`;
            });
        }
    </script>
</body>
</html>
